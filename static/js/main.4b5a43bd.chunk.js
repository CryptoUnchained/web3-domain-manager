(this["webpackJsonpweb3-domain-manager"]=this["webpackJsonpweb3-domain-manager"]||[]).push([[1],{399:function(e,t,n){},405:function(e,t){},417:function(e,t){},419:function(e,t){},428:function(e,t){},430:function(e,t){},455:function(e,t){},460:function(e,t){},462:function(e,t){},469:function(e,t){},482:function(e,t){},552:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(24),i=n.n(s),o=n(226),l=(n(399),n(20)),d=n(40),u=n(115),b=n(32),j=n(109),f=n(237),h=n(614),x=n(51),p=n(130),O=n(155),m=n(50),v=n(606),g=n(615),y=n(337),w=n(126),k=n(338),C=n(339);function N(){var e=Object(y.a)(["\n  html {\n    height: 100%\n  }\n  body {\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n  }\n  @font-face {\n    font-family: 'Averta';\n    src: local('Averta'), local('Averta Bold'),\n    url(",") format('woff2'),\n    url(",") format('woff');\n  }\n  #root {\n    height: 100%;\n  }\n  #records-form .MuiFilledInput-input {\n    padding-top: 13px;\n  }\n  .MuiFormControl-root,\n  .MuiInputBase-root {\n    width: 100% !important;\n  }\n  .MuiAccordionSummary-content {\n    overflow: auto;\n  }\n"]);return N=function(){return e},e}var I=Object(w.createGlobalStyle)(N(),k.a,C.a),S=n(343),T="https://mainnet.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c",F="https://rinkeby.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c",E=new p.a({supportedChainIds:[1,4]}),R=new O.b({rpc:{1:T,4:F},qrcode:!0,pollingInterval:12e3}),_=new S.a({url:T,appName:"Web3 Domain Manager",supportedChainIds:[1,4]});var L=n(344),W=n(4),z=n.n(W),A=n(26),M=n(31),P=n(306),D=n(607),B=n(610),U=n(609),H=n(608),V=n(605),K=n(333),G=n(597),q=n(565),J=n(244),Y=n(362),$=n(112),X=n(80),Q=n(156),Z=n(157),ee=n(345),te=n(158),ne=n(346),re=n(176),ae=n(598),ce=n(334),se=n(247),ie=n(246),oe=n(249),le=n(347),de=n.n(le),ue=n(331),be=n(248),je=n(221),fe=n(593),he=["Approval","NewURI","Transfer"],xe=[].concat(he,["Resolve","Sync"]),pe=[].concat(he,["Set"]),Oe={1:"https://etherscan.io/",4:"https://rinkeby.etherscan.io/",137:"https://polygonscan.com/",80001:"https://mumbai.polygonscan.com/"},me="0x0000000000000000000000000000000000000000",ve={1:"Mainnet",3:"Ropsten",4:"Rinkeby",5:"Goerli",8:"Ubiq",18:"ThundercoreTestnet",42:"Kovan",30:"Orchid",31:"OrchidTestnet",61:"Classic",77:"Sokol",99:"Core",100:"xDai",108:"Thundercore",122:"Fuse",137:"Polygon Mainnet",163:"Lightstreams",80001:"Polygon Mumbai"},ge=function(e){var t=e.address,n=e.chainId,a=e.label;return Object(r.jsx)(r.Fragment,{children:t===me?t:Object(r.jsx)(fe.a,{href:"".concat(Oe[n],"address/").concat(t),target:"_blank",rel:"noopener",children:a||t})})},ye=Object(f.a)((function(){return{header:{paddingTop:30}}})),we=function(e){var t=e.domain,n=e.chainId,a=ye(),c=Object.entries((t||{}).records||[]).filter((function(e){var t=Object(l.a)(e,2);t[0];return!!t[1]})),s=c.map((function(e){var n=Object(l.a)(e,2),a=n[0],c=n[1];return Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)(Y.a,{style:{fontWeight:"bold"},noWrap:!0,children:a})}),Object(r.jsx)(G.a,{item:!0,sm:9,xs:12,children:Object(r.jsx)(Y.a,{noWrap:!0,children:c})})]},"".concat(t.id,"_").concat(a))}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)("b",{children:"ID"})}),Object(r.jsx)(G.a,{item:!0,sm:9,xs:12,children:Object(r.jsx)(Y.a,{noWrap:!0,children:t.id})})]}),Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)("b",{children:"Registry"})}),Object(r.jsx)(G.a,{item:!0,sm:9,xs:12,children:Object(r.jsx)(Y.a,{noWrap:!0,children:t.type&&Object(r.jsx)(ge,{address:t.registry,chainId:n,label:t.type.toUpperCase()})})})]}),Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)("b",{children:"Resolver"})}),Object(r.jsx)(G.a,{item:!0,sm:9,xs:12,children:Object(r.jsx)(Y.a,{noWrap:!0,children:Object(r.jsx)(ge,{address:t.resolver,chainId:n})})})]}),Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)("b",{children:"Owner"})}),Object(r.jsx)(G.a,{item:!0,sm:9,xs:12,children:Object(r.jsx)(Y.a,{noWrap:!0,children:Object(r.jsx)(ge,{address:t.owner,chainId:n})})})]}),c.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(G.a,{container:!0,item:!0,xs:12,children:Object(r.jsx)(Y.a,{className:a.header,variant:"subtitle1",children:"Records"})}),s]}):Object(r.jsx)(r.Fragment,{})]})},ke=n(239),Ce=n(243),Ne=n(242),Ie=n(238),Se=n(240),Te=n(241),Fe=function(e){var t=e.blockNumber,n=e.chainId;return Object(r.jsx)(fe.a,{href:"".concat(Oe[n],"block/").concat(t),target:"_blank",rel:"noopener",children:t})},Ee=function(e){var t=e.transactionHash,n=e.chainId;return Object(r.jsxs)(fe.a,{href:"".concat(Oe[n],"tx/").concat(t),target:"_blank",rel:"noopener",children:[t.substr(0,8),"..."]})},Re=Object(f.a)((function(){return{header:{paddingTop:30},loader:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}}})),_e=function(e){switch(e.event){case"Transfer":return Object(r.jsx)(r.Fragment,{children:e.args.from===me?"Mint":e.args.to===me?"Burn":"Transfer"});default:return Object(r.jsx)(r.Fragment,{children:e.event})}},Le=function(e,t){var n=Object.keys(e.args).filter((function(e){return!+e&&"0"!==e})).reduce((function(t,n){return t[n]=e.args[n],t}),{});switch(e.event){case"Approval":return Object(r.jsxs)(r.Fragment,{children:["Approved operator ",e.args.approved," for token ",e.args.tokenId.toHexString()]});case"ApprovalForAll":return Object(r.jsxs)(r.Fragment,{children:[e.args.approved?"Approved":"Disapproved"," operator ",e.args.operator]});case"NewURI":return Object(r.jsx)(r.Fragment,{children:e.args.uri});case"Resolve":return Object(r.jsxs)(r.Fragment,{children:["Set resolver ",Object(r.jsx)(ge,{address:e.args.to,chainId:t})]});case"Sync":return Object(r.jsxs)(r.Fragment,{children:["Set record with key hash ",e.args.updateId.toHexString()," ",Object(r.jsxs)("div",{children:["(Resolver: ",Object(r.jsx)(ge,{address:e.args.resolver,chainId:t}),")"]})]});case"Transfer":return Object(r.jsxs)(r.Fragment,{children:["Transfer to ",Object(r.jsx)(ge,{address:e.args.to,chainId:t}),e.args.from!==me&&Object(r.jsxs)("div",{children:["(From: ",Object(r.jsx)(ge,{address:e.args.from,chainId:t}),")"]})]});default:return Object(r.jsx)(r.Fragment,{children:JSON.stringify(n,null,"  ")})}},We=function(e){var t=e.events,n=e.chainId,a=Re();return Object(r.jsxs)(r.Fragment,{children:[t&&t.isFetched&&Object(r.jsx)(Ie.a,{children:Object(r.jsxs)(ke.a,{className:a.table,size:"small","aria-label":"a dense table",children:[Object(r.jsx)(Se.a,{children:Object(r.jsxs)(Te.a,{children:[Object(r.jsx)(Ne.a,{children:"Block"}),Object(r.jsx)(Ne.a,{children:"Tx"}),Object(r.jsx)(Ne.a,{align:"left",children:"Event"}),Object(r.jsx)(Ne.a,{align:"left",children:"Data"})]})}),Object(r.jsx)(Ce.a,{children:t&&t.events.map((function(e,t){return Object(r.jsxs)(Te.a,{children:[Object(r.jsx)(Ne.a,{component:"th",scope:"row",children:Object(r.jsx)(Fe,{blockNumber:e.blockNumber,chainId:n})}),Object(r.jsx)(Ne.a,{component:"th",scope:"row",children:Object(r.jsx)(Ee,{transactionHash:e.transactionHash,chainId:n})}),Object(r.jsx)(Ne.a,{align:"left",children:_e(e)}),Object(r.jsx)(Ne.a,{align:"left",children:Le(e,n)})]},t)}))})]})}),t&&!t.isFetched&&Object(r.jsx)("div",{className:a.loader,children:Object(r.jsx)(J.a,{color:"inherit"})})]})},ze=Object(f.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},tabs:{width:"100%"}}})),Ae=function(e){var t=e.children,n=e.display,a=(e.index,Object(re.a)(e,["children","display","index"]));return Object(r.jsx)("div",Object(M.a)(Object(M.a)({role:"tabpanel",hidden:!n},a),{},{children:n&&Object(r.jsx)(je.a,{children:t})}))},Me=function(e){var t=e.chainId,n=e.isFetching,c=e.domains,s=e.onEventsLoad,i=e.onDomainSelect,o=e.actions,d=ze(),u=Object(a.useState)(!1),b=Object(l.a)(u,2),j=b[0],f=b[1],h=Object(a.useState)(void 0),x=Object(l.a)(h,2),p=x[0],O=x[1],m=Object(a.useState)({}),v=Object(l.a)(m,2),g=v[0],y=v[1];Object(a.useEffect)((function(){c&&1===c.length&&w(c[0])(void 0,!0)}),[c]);var w=function(e){return function(t,n){f(!!n&&e.id),O(e.id),i&&i(e)}},k=function(e){return function(){var t=Object(A.a)(z.a.mark((function t(n,r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:a=t.sent,y(a),O(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{className:d.backdrop,open:n,children:Object(r.jsx)(J.a,{color:"inherit"})}),c&&c.length?Object(r.jsx)("div",{children:c.map((function(e){return Object(r.jsxs)(ce.a,{expanded:j===e.id,onChange:w(e),disabled:e.loading,children:[Object(r.jsx)(ie.a,{expandIcon:e.loading?Object(r.jsx)(J.a,{size:18,thickness:5}):Object(r.jsx)(de.a,{}),children:Object(r.jsx)(Y.a,{noWrap:!0,children:e.name})}),Object(r.jsx)(se.a,{children:p&&p.startsWith(e.id)&&Object(r.jsxs)("div",{className:d.tabs,children:[Object(r.jsxs)(ue.a,{value:p,onChange:k(e),style:{marginBottom:20},children:[Object(r.jsx)(be.a,{label:"Info",value:e.id}),Object(r.jsx)(be.a,{label:"Events",value:"".concat(e.id,"_e")})]}),Object(r.jsx)(Ae,{display:e.id===p,children:Object(r.jsx)(we,{domain:e,chainId:t})}),Object(r.jsx)(Ae,{display:"".concat(e.id,"_e")===p,children:Object(r.jsx)(We,{events:g,chainId:t})})]})}),Object(r.jsx)(ae.a,{}),o&&Object(r.jsx)(oe.a,{children:o})]},e.id)}))}):Object(r.jsx)(r.Fragment,{})]})},Pe=n(9),De=n(11),Be=function(){function e(t,n,r){Object(Pe.a)(this,e),this.library=t,this.chainId=n,this.contract=r;var a=$.networks[n].contracts,c=Object.values(a).find((function(e){return e.address.toLowerCase()===r.address.toLowerCase()}));if(!c)throw new Error("Config of contract ".concat(r.address," not found (chainId: ").concat(n,")"));this.config=c,this.onProgressObservers=[]}return Object(De.a)(e,[{key:"onProgress",value:function(e){this.onProgressObservers.push(e)}},{key:"fetchEvents",value:function(){var e=Object(A.a)(z.a.mark((function e(t){var n,r,a,c=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="uns"===t.type.toLowerCase()?pe:xe,r={Approval:function(e){return c.contract.filters.Approval(void 0,void 0,e)},NewURI:function(e){return c.contract.filters.NewURI(e)},Transfer:function(e){return c.contract.filters.Transfer(void 0,void 0,e)},Resolve:function(e){return c.contract.filters.Resolve(e)},Sync:function(e){return c.contract.filters.Sync(void 0,void 0,e)},Set:function(e){return c.contract.filters.Set(e)}},a=1,e.abrupt("return",Promise.all(n.map((function(e){var s=r[e](t.id);return c.contract.queryFilter(s,c.config.deploymentBlock).then(c._progress({loaded:a++,total:n.length}))}))).then((function(e){return e.flat().sort((function(e,t){return e.blockNumber-t.blockNumber}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransferEvents",value:function(){var e=Object(A.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.contract.filters.Transfer(void 0,t),e.abrupt("return",this._fetchEvents(this.contract,n,parseInt(this.config.deploymentBlock,16)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchNewURIEvents",value:function(){var e=Object(A.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.contract.filters.NewURI(t),e.abrupt("return",this._fetchEvents(this.contract,n,parseInt(this.config.deploymentBlock,16)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchEvents",value:function(){var e=Object(A.a)(z.a.mark((function e(t,n,r,a){var c,s,i,o,l=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=l.length>4&&void 0!==l[4]?l[4]:1e6,a){e.next=5;break}return e.next=4,t.provider.getBlockNumber();case 4:a=e.sent;case 5:if(!(r>a)){e.next=7;break}return e.abrupt("return",[]);case 7:return s=Math.min(r+c,a),console.log("Fetching events blocks [".concat(t.address,": ").concat(r,"-").concat(s,"][limit: ").concat(c,"]")),e.prev=9,e.next=12,t.queryFilter(n,r,s);case 12:return i=e.sent,o=Math.min(Math.floor(2*c),1e6),e.t0=i,e.next=17,this._fetchEvents(t,n,s+1,a,o);case 17:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 21:if(e.prev=21,e.t2=e.catch(9),!e.t2.message.includes("query returned more than 10000 results")&&!e.t2.message.includes("timeout")){e.next=25;break}return e.abrupt("return",this._fetchEvents(t,n,r,a,Math.floor(c/10)));case 25:throw console.log("FAIL",e.t2),e.t2;case 27:case"end":return e.stop()}}),e,this,[[9,21]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_progress",value:function(e){this.onProgressObservers.forEach((function(t){return t(e)}))}}]),e}();function Ue(e,t,n,r){var a=new m.a.providers.Web3Provider(e.provider).getSigner(),c=new m.a.Contract(r.address,n,a);return c.source=new Be(e,t,c),c.source.onProgress(console.log),c}var He=n(350),Ve=n.n(He);function Ke(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||function(e){e=e.replace("0x","");for(var t=Ve()(e.toLowerCase()),n=0;n<40;n++)if(parseInt(t[n],16)>7&&e[n].toUpperCase()!==e[n]||parseInt(t[n],16)<=7&&e[n].toLowerCase()!==e[n])return!1;return!0}(e))}var Ge=n(128),qe=n(364),Je=n(351),Ye=n.n(Je),$e=n(353),Xe=n.n($e),Qe=n(616),Ze=Object(f.a)((function(e){return{form:Object(d.a)({minWidth:600},e.breakpoints.down("sm"),{minWidth:"initial"}),record:{paddingTop:8,paddingBottom:8},recordKey:{fontWeight:"bold"},recordKeySelectContainer:{marginRight:10},recordKeySelect:{width:"100%"},recordValue:{display:"flex"},grow:{flexGrow:1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},actions:{display:"flex",paddingTop:20,paddingBottom:8}}})),et=function(e){var t=e.records,n=e.updating,c=e.error,s=e.onUpdate,i=e.onCancel,o=Ze(),d=Object(a.useState)(""),u=Object(l.a)(d,2),b=u[0],j=u[1],f=Object(a.useState)(""),h=Object(l.a)(f,2),x=h[0],p=h[1],O=Object(a.useState)({records:[],displayable:[],fillableKeys:[]}),m=Object(l.a)(O,2),v=m[0],y=m[1];Object(a.useEffect)((function(){var e=Object.entries(t).filter((function(e){var t=Object(l.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return{key:n,value:r,newValue:r}})),n=e.map((function(e){return e.key})),r=Object.keys(X.keys).filter((function(e){return!n.includes(e)}));y({records:e,displayable:e,fillableKeys:r})}),[t]);var w=function(e){return function(){var t=v.records.map((function(t){return t.key===e&&(t.newValue=void 0,t.muted=void 0!==t.value),t})),n=t.map((function(e){return e.key})),r=Object.keys(X.keys).filter((function(e){return!n.includes(e)}));y({records:t,displayable:t.filter((function(e){return!!e.newValue})),fillableKeys:r,muted:t.some((function(e){return e.muted}))})}};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(G.a,{className:o.form,id:"records-form",children:[v.displayable.map((function(e){var t,n=e.key,a=e.newValue;return Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,className:o.record,children:[Object(r.jsx)(G.a,{item:!0,xs:12,className:o.recordKey,children:n}),Object(r.jsxs)(G.a,{item:!0,xs:12,className:o.recordValue,children:[Object(r.jsx)(K.a,{variant:"filled",defaultValue:a,size:"small",className:o.grow,onChange:(t=n,function(e){var n=e.target.value,r=v.records.map((function(e){return e.key===t&&(e.newValue=n,e.muted=e.value!==n),e})),a=r.map((function(e){return e.key})),c=Object.keys(X.keys).filter((function(e){return!a.includes(e)}));y({records:r,displayable:r.filter((function(e){return!!e.newValue})),fillableKeys:c,muted:r.some((function(e){return e.muted}))})})}),Object(r.jsx)(qe.a,{"aria-label":"delete",onClick:w(n),children:Object(r.jsx)(Ye.a,{fontSize:"small"})})]})]},"".concat(n))})),Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,className:o.record,children:[Object(r.jsx)(G.a,{item:!0,sm:4,xs:12,children:Object(r.jsx)("div",{className:o.recordKeySelectContainer,children:Object(r.jsx)(Qe.a,{value:b,className:o.recordKeySelect,options:v.fillableKeys,onChange:function(e,t){j(t)},renderInput:function(e){return Object(r.jsx)(K.a,Object(M.a)(Object(M.a)({},e),{},{label:"Key",size:"small"}))}})})}),Object(r.jsxs)(G.a,{item:!0,sm:8,xs:12,className:o.recordValue,children:[Object(r.jsx)(K.a,{label:"Value",size:"small",className:o.grow,defaultValue:x,value:x,onChange:function(e){p(e.target.value)}}),Object(r.jsx)(qe.a,{"aria-label":"add",disabled:!b,onClick:function(){if(b&&x){var e=[].concat(Object(Ge.a)(v.records),[{key:b,value:void 0,newValue:x,muted:void 0!==x}]),t=e.map((function(e){return e.key})),n=Object.keys(X.keys).filter((function(e){return!t.includes(e)}));y({records:e,displayable:e.filter((function(e){return!!e.newValue})),fillableKeys:n,muted:e.some((function(e){return e.muted}))}),p(""),j("")}},children:Object(r.jsx)(Xe.a,{fontSize:"small"})})]})]}),Object(r.jsx)(G.a,{children:c&&Object(r.jsx)(g.a,{severity:"error",style:{marginTop:10},children:c})}),Object(r.jsxs)(G.a,{className:o.actions,children:[Object(r.jsx)(P.a,{color:"primary",onClick:function(){i&&i()},children:"Cancel"}),Object(r.jsx)(P.a,{color:"primary",variant:"contained",disabled:!v.muted,onClick:function(){s&&s(v.records.filter((function(e){return e.muted})))},children:"Update"}),Object(r.jsx)("div",{className:o.grow})]})]}),Object(r.jsx)(q.a,{className:o.backdrop,open:n,children:Object(r.jsx)(J.a,{color:"inherit"})})]})},tt=n(335),nt=Object(f.a)((function(e){return{form:Object(d.a)({minWidth:600},e.breakpoints.down("sm"),{minWidth:"initial"}),domainName:{display:"flex"},grow:{marginLeft:8,flexGrow:1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},prefix:{},actions:{display:"flex",paddingTop:20,paddingBottom:8}}})),rt=function(e){var t=e.claiming,n=e.error,c=e.onClaim,s=e.onCancel,i=nt(),o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],j=Object(a.useState)("0x0f4a10a4f46c288cea365fcf45cccf0e9d901b945b9829ccdb54c10dc3cb7a6f"),f=Object(l.a)(j,2),h=f[0],x=f[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(G.a,{className:i.form,children:[Object(r.jsxs)(G.a,{container:!0,item:!0,xs:12,children:[Object(r.jsx)(G.a,{item:!0,sm:3,xs:12,children:Object(r.jsx)(K.a,{disabled:!0,label:"Prefix",defaultValue:"udtestdev-",variant:"outlined",size:"small",className:i.prefix})}),Object(r.jsx)(G.a,{item:!0,sm:7,xs:12,className:i.domainName,children:Object(r.jsx)(K.a,{variant:"outlined",label:"Domain name",size:"small",className:i.grow,onChange:function(e){b(e.target.value)}})}),Object(r.jsx)(G.a,{item:!0,sm:2,xs:12,children:Object(r.jsxs)(K.a,{label:"TLD",size:"small",variant:"outlined",defaultValue:h,onChange:function(e){x(e.target.value)},className:i.grow,select:!0,children:[Object(r.jsx)(tt.a,{value:"0x0f4a10a4f46c288cea365fcf45cccf0e9d901b945b9829ccdb54c10dc3cb7a6f",children:".crypto"}),Object(r.jsx)(tt.a,{value:"0x7674e7282552c15f203b9c4a6025aeaf28176ef7f5451b280f9bada3f8bc98e2",children:".coin"}),Object(r.jsx)(tt.a,{value:"0x1e3f482b3363eb4710dae2cb2183128e272eafbe137f686851c1caea32502230",children:".wallet"}),Object(r.jsx)(tt.a,{value:"0x042fb01c1e43fb4a32f85b41c821e17d2faeac58cfc5fb23f80bc00c940f85e3",children:".bitcoin"}),Object(r.jsx)(tt.a,{value:"0x241e7e2b7fd7333b3c0c049b326316b811af0c01cfc0c7a90b466fda3a70fc2d",children:".x"}),Object(r.jsx)(tt.a,{value:"0x5c828ec285c0bf152a30a325b3963661a80cb87641d60920344caf04d4a0f31e",children:".888"}),Object(r.jsx)(tt.a,{value:"0xb75cf4f3d8bc3deb317ed5216d898899d5cc6a783f65f6768eb9bcb89428670d",children:".nft"}),Object(r.jsx)(tt.a,{value:"0xb5f2bbf81da581299d4ff7af60560c0ac854196f5227328d2d0c2bb0df33e553",children:".dao"}),Object(r.jsx)(tt.a,{value:"0x4118ebbd893ecbb9f5d7a817c7d8039c1bd991b56ea243e2ae84d0a1b2c950a7",children:".blockchain"})]})})]}),Object(r.jsx)(G.a,{children:n&&Object(r.jsx)(g.a,{severity:"error",style:{marginTop:10},children:n})}),Object(r.jsxs)(G.a,{className:i.actions,children:[Object(r.jsx)(P.a,{color:"primary",onClick:function(){s&&s()},children:"Cancel"}),Object(r.jsx)(P.a,{color:"primary",variant:"contained",disabled:!u,onClick:function(){c&&c(h,u)},children:"Claim"}),Object(r.jsx)("div",{className:i.grow})]})]}),Object(r.jsx)(q.a,{className:i.backdrop,open:t,children:Object(r.jsx)(J.a,{color:"inherit"})})]})},at=c.a.forwardRef((function(e,t){return Object(r.jsx)(V.a,Object(M.a)({direction:"up",ref:t},e))})),ct=Object(f.a)((function(e){return{header:{display:"flex",padding:"10px 0"},form:Object(d.a)({minWidth:600,display:"flex"},e.breakpoints.down("sm"),{minWidth:"initial"}),grow:{flexGrow:1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},tabs:{width:"100%"},btn:{margin:"0 10px"},noDomains:{textAlign:"center"}}})),st=function(e){var t=e.library,n=e.account,s=e.chainId,i=ct(),o="".concat(n,"_").concat(s),u=Object(a.useState)(Object(d.a)({},o,{isFetched:!1,domains:[]})),b=Object(l.a)(u,2),j=b[0],f=b[1],h=Object(a.useState)(!0),x=Object(l.a)(h,2),p=x[0],O=x[1],y=c.a.useState(void 0),w=Object(l.a)(y,2),k=w[0],C=w[1],N=Object(a.useState)(void 0),I=Object(l.a)(N,2),S=I[0],T=I[1],F=c.a.useState(void 0),E=Object(l.a)(F,2),R=E[0],_=E[1],W=c.a.useState(!1),V=Object(l.a)(W,2),re=V[0],ae=V[1],ce=c.a.useState(),se=Object(l.a)(ce,2),ie=se[0],oe=se[1],le=c.a.useState(void 0),de=Object(l.a)(le,2),ue=de[0],be=de[1],je=c.a.useState(!1),fe=Object(l.a)(je,2),he=fe[0],xe=fe[1],pe=Object(a.useState)(void 0),Oe=Object(l.a)(pe,2),ve=Oe[0],ge=Oe[1],ye=c.a.useState(void 0),we=Object(l.a)(ye,2),ke=we[0],Ce=we[1],Ne=c.a.useState(!1),Ie=Object(l.a)(Ne,2),Se=Ie[0],Te=Ie[1],Fe=Object(a.useState)(!1),Ee=Object(l.a)(Fe,2),Re=Ee[0],_e=Ee[1],Le=Object(a.useState)(!1),We=Object(l.a)(Le,2),ze=We[0],Ae=We[1],Pe=c.a.useState(void 0),De=Object(l.a)(Pe,2),Be=De[0],He=De[1],Ve=c.a.useState(!1),Ge=Object(l.a)(Ve,2),qe=Ge[0],Je=Ge[1],Ye=$.networks[s].contracts,$e=Ue(t,s,Q.abi,Ye.CNSRegistry),Xe=Ue(t,s,Z.abi,Ye.UNSRegistry),Qe=Ue(t,s,te.abi,Ye.ProxyReader),Ze=Ue(t,s,ne.abi,Ye.MintingManager),tt=Object.keys(X.keys);function nt(e,t){return st.apply(this,arguments)}function st(){return(st=Object(A.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.source.fetchNewURIEvents(n);case 2:if((r=e.sent)&&r.length){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",r[0].args.uri);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=function(){he||(T(),oe(),be())},ot=function(){var e=Object(A.a)(z.a.mark((function e(t,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.debug(n,r,t.id),be(),Ke(r)){e.next=5;break}return be("Recipient address is invalid"),e.abrupt("return");case 5:return e.prev=5,xe(!0),a=Xe.address===t.registry?Xe:$e,e.next=10,a["safeTransferFrom(address,address,uint256)"](n,r,t.id);case 10:return T(),e.next=13,pt(t);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(5),console.error(e.t0),be(e.t0&&e.t0.message),e.abrupt("return");case 20:return e.prev=20,xe(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[5,15,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=Object(A.a)(z.a.mark((function e(n,r){var a,c,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("UPDATE",n,r),Ce(),e.prev=2,Te(!0),a=new m.a.providers.Web3Provider(t.provider),c=new m.a.Contract(n.resolver,ee.abi,a.getSigner()),s=r.map((function(e){return e.key})),i=r.map((function(e){return e.newValue||""})),e.next=10,c.setMany(s,i,n.id);case 10:return ge(),e.next=13,pt(n);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(2),console.error(e.t0),Ce(e.t0&&e.t0.message),e.abrupt("return");case 20:return e.prev=20,Te(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,15,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=Object(A.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("CLAIM",t,n),He(),e.prev=2,Je(!0),e.next=6,Ze.claim(t,n);case 6:return Ae(!1),e.next=9,bt();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),He(e.t0&&e.t0.message),e.abrupt("return");case 16:return e.prev=16,Je(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,11,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(A.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("Initiating claiming..."),e.next=3,Ze.paused();case 3:t=e.sent,_e(!t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(A.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!1),console.debug("Loading events..."),e.next=4,ht();case 4:t=e.sent,n=Object(M.a)(Object(M.a)({},j),{},Object(d.a)({},o,{isFetched:!0,domains:t})),console.debug("Update state",n),f(n),O(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(e,t){return e.source.fetchTransferEvents(n).then(function(){var n=Object(A.a)(z.a.mark((function n(r){var a,c;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.debug("Loaded events from registry ".concat(e.address),r),a=[],c=[],r.forEach(function(){var n=Object(A.a)(z.a.mark((function n(r){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c.includes(r.args.tokenId.toString())||(a.push({tokenId:r.args.tokenId.toHexString(),registry:e.address,type:t}),c.push(r.args.tokenId.toString()));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},ft=function(){var e=Object(A.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,t.fetchNewURIEvents(n);case 4:return r=e.sent,e.abrupt("return",n.map((function(e){var t=r.find((function(t){return t.args.tokenId.toHexString()===e}));return{tokenId:e,name:t?t.args.uri:e}})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(A.a)(z.a.mark((function e(){var t,n,r,a,c,s,i,u,b,h,x;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Promise.all([jt($e,"cns"),jt(Xe,"uns")]);case 3:return n=e.sent,r=Object(l.a)(n,2),a=r[0],c=r[1],e.next=9,Promise.all([ft($e.source,a.map((function(e){return e.tokenId}))),ft(Xe.source,c.map((function(e){return e.tokenId})))]).then((function(e){return e.flat()}));case 9:s=e.sent,i=Object(L.a)(a.concat(c));try{for(i.s();!(u=i.n()).done;)b=u.value,h=Xe.address===b.registry?Xe:$e,x={id:b.tokenId,name:b.tokenId,registry:b.registry,type:b.type,loading:!0},t.push(x),xt(x,h,s).then((function(e){t.map((function(t){return t.id===e.id?Object(M.a)(Object(M.a)({},t),e):t})),f(Object(M.a)(Object(M.a)({},j),{},Object(d.a)({},o,{isFetched:!0,domains:t.filter((function(e){return!e.removed}))})))}))}catch(p){i.e(p)}finally{i.f()}return e.abrupt("return",t.filter((function(e){return!e.removed})));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(A.a)(z.a.mark((function e(t,r,a){var c,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.callStatic.getData(tt,t.id);case 2:if(c=e.sent,s={},tt.forEach((function(e,t){return s[e]=c[2][t]})),!(i=a&&a.find((function(e){return e.tokenId===t.id})))){e.next=10;break}e.t0=i.name,e.next=13;break;case 10:return e.next=12,nt(r,t.id);case 12:e.t0=e.sent;case 13:return t.name=e.t0,t.owner=c.owner,t.removed=c.owner!==n,t.resolver=c.resolver,t.records=s,t.loading=!1,e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pt=function(){var e=Object(A.a)(z.a.mark((function e(t){var n,r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe.address===t.registry?Xe:$e,e.next=3,xt(t,n);case 3:r=e.sent,a=j[o].domains.map((function(e){return r&&e.id===r.id?Object(M.a)(Object(M.a)({},e),r):e})).filter((function(e){return r||e.id!==t.id})),c=Object(M.a)(Object(M.a)({},j),{},Object(d.a)({},o,{isFetched:!0,domains:a})),console.debug("Update domain state",c),f(c),C(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){j[o]&&j[o].isFetched||(ut(),bt())}),[j,o]);var Ot,mt=j&&(j[o]||{}).domains;return Object(r.jsxs)(v.a,{children:[mt&&mt.length?Object(r.jsxs)("div",{className:i.header,children:[Object(r.jsx)(Y.a,{variant:"h5",component:"h6",className:i.grow,children:"Domains"}),Object(r.jsx)(P.a,{color:"primary",variant:"contained",disabled:!Re,onClick:function(){Ae(!0)},children:"Claim free domain"})]}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(Me,{chainId:s,isFetching:!p,domains:mt,onEventsLoad:function(e){return console.debug("Loading DOMAIN events..."),(Xe.address===e.registry?Xe:$e).source.fetchEvents(e).then((function(e){return console.debug("Loaded DOMAIN events",e),{isFetched:!0,events:e||[]}}))},onDomainSelect:function(e){C(e),_()},actions:Object(r.jsxs)(r.Fragment,{children:[k&&k.resolver===me?Object(r.jsx)(P.a,{size:"small",color:"primary",onClick:(Ot=k,Object(A.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("DEFAULT RESOLVER",Ot.id),_(),e.prev=2,ae(!0),e.next=6,$e.resolveTo(Ye.Resolver.address,Ot.id);case 6:return e.next=8,pt(Ot);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),_(e.t0&&e.t0.message),e.abrupt("return");case 15:return e.prev=15,ae(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})))),children:"Set default resolver"}):Object(r.jsx)(P.a,{size:"small",color:"primary",onClick:function(e){return function(){ge(e),Ce()}}(k),children:"Update records"}),Object(r.jsx)(P.a,{size:"small",color:"primary",onClick:function(e){return function(){T(e)}}(k),children:"Transfer"}),Object(r.jsx)("div",{className:i.grow,children:R&&Object(r.jsx)(g.a,{severity:"error",children:R})})]})}),Object(r.jsx)(D.a,{open:!!S,TransitionComponent:at,maxWidth:"lg",keepMounted:!0,onClose:it,children:!!S&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{children:["Transfer ",S.name]}),Object(r.jsxs)(U.a,{children:[Object(r.jsx)(G.a,{className:i.form,children:Object(r.jsx)(K.a,{label:"Receiver",variant:"outlined",size:"small",defaultValue:ie,className:i.grow,onChange:function(e){oe(e.target.value)}})}),ue&&Object(r.jsx)(g.a,{severity:"error",style:{marginTop:10},children:ue})]}),Object(r.jsxs)(B.a,{children:[Object(r.jsx)(P.a,{color:"primary",onClick:it,children:"Cancel"}),Object(r.jsx)(P.a,{color:"primary",variant:"contained",onClick:function(){ot(S,ie)},children:"Transfer"})]}),Object(r.jsx)(q.a,{className:i.backdrop,open:he,children:Object(r.jsx)(J.a,{color:"inherit"})})]})}),Object(r.jsx)(D.a,{open:!!ve,TransitionComponent:at,maxWidth:"lg",keepMounted:!0,children:!!ve&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{children:["Records [",ve.name,"]"]}),Object(r.jsx)(U.a,{children:Object(r.jsx)(et,{records:ve.records,updating:Se,error:ke,onUpdate:function(e){lt(ve,e)},onCancel:function(){ge()}})})]})}),Object(r.jsxs)(D.a,{open:!!ze,TransitionComponent:at,maxWidth:"lg",keepMounted:!0,children:[Object(r.jsx)(H.a,{children:"Claim Free domain"}),Object(r.jsx)(U.a,{children:Object(r.jsx)(rt,{claiming:qe,onClaim:function(e,t){dt(e,t)},onCancel:function(){Ae(!1)},error:Be})})]}),p&&j[o]&&!j[o].domains.length&&Object(r.jsxs)("p",{className:i.noDomains,children:["No domains found.",Object(r.jsx)(P.a,{color:"primary",variant:"contained",className:i.btn,disabled:!Re,onClick:function(){Ae(!0)},children:"Claim free domain"}),"OR ",Object(r.jsx)("a",{href:"https://unstoppabledomains.com/",children:"Buy here"})]}),Object(r.jsx)(q.a,{className:i.backdrop,open:re,children:Object(r.jsx)(J.a,{color:"inherit"})})]})},it=n(133),ot=n(367),lt=n(173),dt=n.n(lt),ut=Object(f.a)((function(e){return{root:{marginTop:40,padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},loader:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}}})),bt=function(e){var t=e.library,n=e.chainId,c=ut(),s=Object(b.f)().domain,i=Object(a.useState)(s),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(void 0),f=Object(l.a)(j,2),h=f[0],x=f[1],p=Object(a.useState)(!0),O=Object(l.a)(p,2),y=O[0],w=O[1],k=Object(a.useState)(void 0),C=Object(l.a)(k,2),N=C[0],I=C[1],S=$.networks[n].contracts,T=Ue(t,n,Q.abi,S.CNSRegistry),F=Ue(t,n,Z.abi,S.UNSRegistry),E=Ue(t,n,te.abi,S.ProxyReader),R=Object.keys(X.keys);Object(a.useEffect)((function(){d&&_()}),[d]);var _=function(){var e=Object(A.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(void 0),!h||d!==h.name){e.next=4;break}return e.abrupt("return");case 4:if(!m.a.utils.isHexString(d)||66!==d.length){e.next=11;break}return e.t0=u,e.next=8,L(d);case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return");case 11:return x(void 0),t=m.a.utils.namehash(d),console.debug(d,t),e.next=16,W(t,d);case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),I(e.t2.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(A.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.exists(t);case 2:if(!e.sent){e.next=6;break}e.t0=F,e.next=7;break;case 6:e.t0=T;case 7:return n=e.t0,e.next=10,n.source.fetchNewURIEvents([t]);case 10:if((r=e.sent).length){e.next=13;break}throw new Error("Token not found");case 13:return e.abrupt("return",r.find((function(e){return e.args.tokenId.toHexString()===t})).args.uri);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(A.a)(z.a.mark((function e(t,n){var r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!1),console.debug("Fetching state..."),e.next=4,E.callStatic.getData(R,t);case 4:r=e.sent,console.debug("Fetched state",r),a={},R.forEach((function(e,t){return a[e]=r[2][t]})),c={id:t,name:n,registry:r.resolver===F.address?F.address:T.address,type:r.resolver===F.address?"uns":"cns",owner:r.owner,resolver:r.resolver,records:a},console.debug("Update state",c),w(!0),x(c);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)(v.a,{style:{paddingTop:"3rem"},children:[Object(r.jsxs)(it.a,{className:c.root,children:[Object(r.jsx)(ot.a,{error:!!N,className:c.input,onKeyPress:function(e){13===e.charCode&&_()},onChange:function(e){u(e.target.value)},placeholder:"Search domain (.crypto, .coin, .wallet, .bitcoin, .x, .888, .nft, .dao, .blockchain)",inputProps:{"aria-label":"search domain (.crypto, .coin, .wallet, .bitcoin, .x, .888, .nft, .dao, .blockchain)"},defaultValue:d,value:d}),Object(r.jsx)(qe.a,{className:c.iconButton,onClick:_,"aria-label":"search",children:Object(r.jsx)(dt.a,{})})]}),N&&Object(r.jsx)(g.a,{severity:"error",children:N}),!y&&Object(r.jsx)("div",{className:c.loader,children:Object(r.jsx)(J.a,{color:"inherit"})}),y&&h&&Object(r.jsx)("div",{style:{marginTop:20},children:Object(r.jsx)(Me,{chainId:n,isFetching:!y,domains:[h],onEventsLoad:function(e){return console.debug("Loading DOMAIN events..."),(F.address===e.registry?F:T).source.fetchEvents(e).then((function(e){return console.debug("Loaded DOMAIN events",e),{isFetched:!0,events:e||[]}}))}})})]})},jt=n(612),ft=n(613),ht=n(153),xt=n(357),pt=n.n(xt),Ot=n(358),mt=n.n(Ot),vt=n(359),gt=n.n(vt),yt=n(177),wt=n(611),kt=n(82),Ct=n(355),Nt=n.n(Ct),It=Object(f.a)((function(){return{icon:{height:"1rem",width:"1rem",borderRadius:"1.125rem",borderColor:"black"}}}));function St(e){var t=e.account,n=It(),c=Object(a.useRef)();return Object(a.useEffect)((function(){t&&c.current&&(c.current.innerHTML="",c.current.appendChild(Nt()(16,parseInt(t.slice(2,10),16))))}),[t]),Object(r.jsx)("div",{className:n.icon,ref:c})}var Tt=n(603),Ft=Object(f.a)((function(){return{modal:{padding:20},box:{display:"flex"},account:{paddingLeft:8},btn:{padding:0,marginLeft:20}}}));function Et(e){var t=e.anchorEl,n=e.onClose,a=Ft(),c=Object(x.c)(),s=c.account,i=c.deactivate,o=c.connector,l=Boolean(t),d=function(){n&&n()};return Object(r.jsx)(Tt.a,{open:l,anchorEl:t,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(r.jsx)(v.a,{className:a.modal,children:Object(r.jsxs)(je.a,{className:a.box,children:[Object(r.jsx)(St,{account:s}),Object(r.jsx)(Y.a,{className:a.account,children:s&&"".concat(s.slice(0,6),"...").concat(s.slice(s.length-4,s.length))}),Object(r.jsx)(P.a,{size:"small",className:a.btn,onClick:function(){i(),o.close&&o.close(),d()},children:"Disconnect"})]})})})}var Rt=n(356),_t=n.n(Rt),Lt=n.p+"static/media/mm.ff38276e.png",Wt=n.p+"static/media/wc.304e3277.svg",zt=n.p+"static/media/cw.a3a7d7fd.svg",At={MetaMask:E,WalletConnect:R,"Coinbase Wallet":_},Mt={MetaMask:Lt,WalletConnect:Wt,"Coinbase Wallet":zt},Pt=Object(f.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},btn:{minWidth:300,padding:16,justifyContent:"flex-start",textTransform:"none"},grow:{flexGrow:1},img:{width:"auto",maxWidth:26,maxHeight:24,margin:"0 auto"}}})),Dt=c.a.forwardRef((function(e,t){return Object(r.jsx)(V.a,Object(M.a)({direction:"up",ref:t},e))})),Bt=function(e){var t=Pt(),n=e.children,a=e.onClose,c=Object(re.a)(e,["children","onClose"]);return Object(r.jsxs)(H.a,Object(M.a)(Object(M.a)({disableTypography:!0,className:t.root},c),{},{children:[Object(r.jsx)(Y.a,{variant:"h6",children:n}),a?Object(r.jsx)(qe.a,{"aria-label":"close",className:t.closeButton,onClick:a,children:Object(r.jsx)(_t.a,{})}):null]}))};function Ut(e){var t=e.isOpen,n=e.onClose,a=Pt(),c=Object(x.c)().activate,s=function(){n&&n()};return Object(r.jsxs)(D.a,{open:t,onClose:s,TransitionComponent:Dt,maxWidth:"lg",keepMounted:!0,children:[Object(r.jsx)(Bt,{onClose:s,children:"Connect to a wallet"}),Object(r.jsx)(U.a,{children:Object.keys(At).map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)(P.a,{onClick:function(){c(At[e])},className:a.btn,children:[Object(r.jsx)(Y.a,{variant:"body1",children:e}),Object(r.jsx)("div",{className:a.grow}),Object(r.jsx)("img",{src:Mt[e],alt:e,className:a.img})]})},e)}))})]})}var Ht=Object(f.a)((function(){return{box_net:{display:"flex",alignItems:"center",background:yt.a[400],borderRadius:6,padding:8,marginRight:8,color:wt.a[500]},box_acc:{display:"flex",alignItems:"center",background:yt.a[400],borderRadius:6,paddingLeft:8},info_btn:{margin:"2px 2px 2px 6px",background:yt.a[500],color:"white",textTransform:"none"},info_btn_text:{paddingRight:6},connect_btn:{background:yt.a[400],color:"white"}}}));function Vt(){var e=Ht(),t=Object(x.c)(),n=t.account,a=t.library,s=t.chainId,i=c.a.useState(),o=Object(l.a)(i,2),d=o[0],u=o[1],b=c.a.useState(null),j=Object(l.a)(b,2),f=j[0],h=j[1],p=c.a.useState(),O=Object(l.a)(p,2),m=O[0],v=O[1];return c.a.useEffect((function(){if(n&&a){var e=!1;return a.getBalance(n).then((function(t){e||u(t)})).catch((function(){e||u(null)})),function(){e=!0,u(void 0)}}}),[n,a,s]),n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(je.a,{className:e.box_net,children:Object(r.jsx)(Y.a,{children:ve[s]||s})}),Object(r.jsxs)(je.a,{className:e.box_acc,children:[d&&parseFloat(Object(kt.b)(d)).toFixed(3)," ETH",Object(r.jsxs)(P.a,{className:e.info_btn,onClick:function(e){return h(e.currentTarget)},children:[Object(r.jsx)(Y.a,{className:e.info_btn_text,children:n&&"".concat(n.slice(0,6),"...").concat(n.slice(n.length-4,n.length))}),Object(r.jsx)(St,{account:n})]}),Object(r.jsx)(Et,{anchorEl:f,onClose:function(){return h(null)}})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P.a,{className:e.connect_btn,onClick:function(){return v(!0)},children:"Connect to a wallet"}),Object(r.jsx)(Ut,{isOpen:m,onClose:function(){return v(!1)}})]})}var Kt=Object(f.a)((function(e){return{title:Object(d.a)({fontSize:"1rem",color:"white",textDecoration:"none"},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),grow:{flexGrow:1,paddingLeft:30},navBtn:{color:"white",marginLeft:6,padding:"6px 0",minWidth:"inherit",textDecoration:"none"},menuLink:{color:"inherit",textDecoration:"none"}}}));function Gt(e){var t=e.active,n=Kt(),c=Object(a.useState)(null),s=Object(l.a)(c,2),i=s[0],o=s[1],d=Boolean(i),b=function(){o(null)};return Object(r.jsx)("header",{children:Object(r.jsx)(jt.a,{position:"fixed",children:Object(r.jsxs)(ft.a,{children:[Object(r.jsx)(u.b,{to:"/",className:n.title,children:Object(r.jsx)(Y.a,{variant:"h5",noWrap:!0,children:"Web3 Domain Manager"})}),Object(r.jsx)("div",{className:n.grow}),Object(r.jsx)(Vt,{}),Object(r.jsx)(P.a,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":d?"true":void 0,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},className:n.navBtn,children:Object(r.jsx)(pt.a,{})}),Object(r.jsxs)(ht.a,{anchorEl:i,open:d,onClose:b,onClick:b,PaperProps:{style:{transform:"translateX(10px) translateY(50px)",width:180}},children:[Object(r.jsxs)(tt.a,{component:u.b,to:"/lookup",disabled:!t,children:[Object(r.jsx)("div",{style:{flexGrow:1},children:"Lookup"}),Object(r.jsx)(dt.a,{})]}),Object(r.jsx)("a",{href:"//dune.xyz/aquiladev/uns",target:"_blank",rel:"noreferrer",className:n.menuLink,children:Object(r.jsxs)(tt.a,{children:[Object(r.jsx)("div",{style:{flexGrow:1},children:"UNS stats"}),Object(r.jsx)(mt.a,{})]})}),Object(r.jsx)("a",{href:"//github.com/aquiladev/web3-domain-manager",target:"_blank",rel:"noreferrer",className:n.menuLink,children:Object(r.jsxs)(tt.a,{children:[Object(r.jsx)("div",{style:{flexGrow:1},children:"Code"}),Object(r.jsx)(gt.a,{})]})})]})]})})})}var qt=n(360),Jt=n.n(qt),Yt=n(617),$t=Object(f.a)((function(){return{footer:{alignItems:"center",background:"transparent",boxShadow:"none"},info:{marginTop:20}}}));function Xt(){var e=$t();return Object(r.jsxs)(jt.a,{position:"static",className:e.footer,children:[Object(r.jsx)(Y.a,{color:"textSecondary",variant:"subtitle2",className:e.info,children:"This open source project uses the Ethereum blockchain as a datasource. It does not collect any user data or analytics."}),Object(r.jsxs)(Y.a,{color:"textSecondary",variant:"subtitle2",children:["The best way to leave a feedback are star the project or create an issue on ",Object(r.jsx)(fe.a,{href:"//github.com/aquiladev/web3-domain-manager",target:"_blank",rel:"noopener",children:"GitHub"}),"."]}),Object(r.jsx)(ft.a,{children:Object(r.jsxs)(fe.a,{href:"//github.com/aquiladev/web3-domain-manager",target:"_blank",rel:"noopener",children:[Object(r.jsx)(qe.a,{color:"default","aria-label":"GitHub repo",component:"span",children:Object(r.jsx)(Jt.a,{fontSize:"default"})}),Object(r.jsx)(Yt.a,{label:"main.65f3c08",variant:"outlined"})]})})]})}var Qt=Object(j.a)({overrides:{MuiFilledInput:{input:{paddingTop:"13px"}},MuiDialogActions:{root:{display:"block"}}}}),Zt=Object(f.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",minHeight:"100%"},content:{paddingTop:64,minHeight:100},title:Object(d.a)({fontSize:"1rem"},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},grow:{flexGrow:1,paddingLeft:30},navButton:{color:"white"}}}));function en(e){return console.error(e),e instanceof p.b?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof x.a?"You're connected to an unsupported network.":e instanceof p.c||e instanceof O.a?"Please authorize this website to access your Ethereum account.":"An unknown error occurred. Check the console for more details."}function tn(e){return new m.a.providers.Web3Provider(e)}function nn(){var e=Zt(),t=Object(x.c)(),n=t.connector,c=t.library,s=t.account,i=t.chainId,o=t.active,d=t.error,j=Object(a.useState)(),f=Object(l.a)(j,2),p=f[0],O=f[1];return Object(a.useEffect)((function(){p&&p===n&&O(void 0)}),[p,n]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(x.c)(),n=t.active,r=t.error,c=t.activate;Object(a.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!r&&!e){var a=function(){console.log("Handling 'connect' event"),c(E)},s=function(e){console.log("Handling 'chainChanged' event with payload",e),c(E)},i=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&c(E)},o=function(e){console.log("Handling 'networkChanged' event with payload",e),c(E)};return t.on("connect",a),t.on("chainChanged",s),t.on("accountsChanged",i),t.on("networkChanged",o),function(){t.removeListener&&(t.removeListener("connect",a),t.removeListener("chainChanged",s),t.removeListener("accountsChanged",i),t.removeListener("networkChanged",o))}}}),[n,r,e,c])}(!function(){var e=Object(x.c)(),t=e.activate,n=e.active,r=Object(a.useState)(!1),c=Object(l.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){E.isAuthorized().then((function(e){e?t(E,void 0,!0).catch((function(){i(!0)})):i(!0)}))}),[]),Object(a.useEffect)((function(){!s&&n&&i(!0)}),[s,n]),s}()||!!p),Object(r.jsx)(h.a,{theme:Qt,children:Object(r.jsx)(u.a,{children:Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(Gt,{active:o,account:s}),Object(r.jsxs)(v.a,{maxWidth:"lg",className:e.content,children:[!!d&&Object(r.jsx)(g.a,{variant:"filled",severity:"error",style:{position:"fixed",zIndex:1200,bottom:10,left:10},children:en(d)}),Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{path:"/lookup/:domain",children:o&&Object(r.jsx)(bt,{library:c,chainId:i})}),Object(r.jsx)(b.a,{path:"/lookup",children:o&&Object(r.jsx)(bt,{library:c,chainId:i})}),Object(r.jsx)(b.a,{path:"/",children:s&&Object(r.jsx)(st,{library:c,account:s,chainId:i})})]})]}),Object(r.jsx)(Xt,{})]})})})}var rn=function(){return Object(r.jsxs)(x.b,{getLibrary:tn,children:[Object(r.jsx)(I,{}),Object(r.jsx)(nn,{})]})},an=n(179),cn=n(225),sn=n.n(cn),on=n(361),ln=Object(f.a)((function(e){return{root:{flexGrow:1,overflow:"hidden"},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),content:{paddingTop:64,minHeight:100},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},grow:{flexGrow:1,paddingLeft:30},navButton:{color:"white"}}})),dn={MAINNET:1,RINKEBY:4};function un(){var e=ln(),t=Object(cn.useSafeAppsSDK)(),n=t.sdk,c=t.safe,s=Object(a.useMemo)((function(){return m.a.providers.Web3Provider(new on.SafeAppProvider(c,n))}),[n,c]),i=dn[c.network];return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(jt.a,{position:"fixed",children:Object(r.jsxs)(ft.a,{children:[Object(r.jsx)(Y.a,{className:e.title,variant:"h5",noWrap:!0,children:"Web3 Domain Manager"}),Object(r.jsx)("div",{className:e.grow}),Object(r.jsx)(Y.a,{variant:"subtitle1",children:c.safeAddress})]})}),Object(r.jsx)(v.a,{maxWidth:"lg",className:e.content,children:Object(r.jsx)(st,{library:s,account:c.safeAddress,chainId:i})})]})}var bn=function(){return Object(r.jsx)(w.ThemeProvider,{theme:an.theme,children:Object(r.jsxs)(sn.a,{loader:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(an.Title,{size:"md",children:"Waiting for Gnosis Safe..."}),Object(r.jsx)(an.Loader,{size:"md"})]}),children:[Object(r.jsx)(I,{}),Object(r.jsx)(un,{})]})})},jn=function(){return Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_REF_SHA:"main.65f3c08"}).REACT_APP_SAPP_TARGET?Object(r.jsx)(bn,{}):Object(r.jsx)(rn,{})},fn=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,1020)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.initialize("UA-205068498-1"),o.a.pageview(window.location.pathname+window.location.search),i.a.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(jn,{})}),document.getElementById("root")),fn()}},[[552,2,3]]]);
//# sourceMappingURL=main.4b5a43bd.chunk.js.map